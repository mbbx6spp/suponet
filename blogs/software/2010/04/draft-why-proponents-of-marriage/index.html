

  
  <meta charset="utf-8">
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link href="/images/favicon.ico" rel="shortcut icon">
  <meta content="width=device-width, minimum-scale=1.0, maximum-scale=1.0" name="viewport">
  <title>Susan Potter: DRAFT: Why proponents of marriage equality should love graph databases, Part 2: A Reply to 'The Database Engineering Perspective'</title>
  <link rel="stylesheet" type="text/css" href="/stylesheets/reset.css">
  <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="/stylesheets/styles.css">
  <link rel="stylesheet" type="text/css" href="/stylesheets/coderay.css">


  
    <header>
  <div class="container">
    <a href="/">
      <img alt="Susan Potter" height="30" src="/images/logo.png" width="128">
    </a>
    <nav>
      <a href="/about/">About</a>
      <a href="/resume/">Resume</a>
      <a href="/portfolio/">Portfolio</a>
      <a href="/talks/">Talks</a>
      <a href="/contact/">Contact</a>
      <a target="_blank" id="twitter" class="icon" href="https://twitter.com/SusanPotter"><img src="/images/twitter.png" height="30" width="30" alt="@SusanPotter's Twitter feed"></a>
      <a target="_blank" id="linked" class="icon" href="https://www.linkedin.com/in/susanpotter"><img src="/images/linkedin.png" height="30" width="30" alt="Susan Potter's LinkedIn profile"></a>
      <a target="_blank" id="github" class="icon" href="https://github.com/mbbx6spp"><img src="/images/github.png" height="30" width="30" alt="Susan Potter's GitHub open source code repository profile"></a>
    </nav>
  </div>
</header>


    <div class="text post sidebar">
      <aside class=".hidden-xs .hidden-sm">
        <ul class="share-buttons">
          <li class="twitter"><a href="https://twitter.com/share" class="twitter-share-button" data-count="vertical" data-via="SusanPotter">Tweet</a></li>
          <li class="plusone">
          <li class="linked">
<script type="text/javascript" src="https://platform.linkedin.com/in.js"></script><script type="in/share" data-counter="top"></script>
</li>
        </ul>
      </aside>
      <section>
        <article>
          <h1 class="banner">
            Software Development Blog <small>(formerly called 'Snakes, Gems &amp; Coffee')</small>
            <span class="description">
              A technical blog with articles on a number of topics from Erlang, Ruby idioms, Javascript,
              semantic web, Rails tips, graph databases, distributed systems.
            </span>
          </h1>
          
          <h2>DRAFT: Why proponents of marriage equality should love graph databases, Part 2: A Reply to 'The Database Engineering Perspective'</h2>
          <h5 class="time">2010-04-03 11:37:00 -0500</h5>
          So
%a{:href =&gt; "http://geek.susanpotter.net/2010/03/why-proponents-of-marriage-equality.html", :target =&gt; "_blank"} in part 1
I provided an
%a{:href =&gt; "http://geek.susanpotter.net/2010/03/why-proponents-of-marriage-equality.html", :target =&gt; "_blank"}
  overview of problems relational databases (
  %acronym{:title =&gt; "Relational Database Management Systems"}&gt; RDBMS
  ) have with modelling relationships
as well as
%a{:href =&gt; "http://geek.susanpotter.net/2010/03/why-proponents-of-marriage-equality.html", :target =&gt; "_blank"} entities that have datasets that are only partially structured in structure and definition
based on my experiences.
%br/
%br/
This post will:
%br/
%ol
  %li introduce new concepts utilized in graph databases and specific terminology for Neo databases
  %li
    review the most flexible schemas that accommodate both same-sex and opposite-sex marriages alike that were presented in the blog post I am responding to,
    = succeed "." do
      %a{:href =&gt; "http://qntm.org/gay", :target =&gt; "_blank"}
        %em 'Gay Marriage: The Database Engineering Perspective'
  %li describe how graph databases could overcome the relational database shortcomings
  %li finally I will present a snippet of code (not meant for production use, but merely to demonstrate how we can use Neo4J) that makes it more natural to represent richer relationships between entities (or nodes as Neo4J calls them) that have substance to them (i.e. attributes in this case)
%br/
= succeed "Before" do
  %h4 New Concepts in Graph Databases
I can explain how graph databases on a conceptual level can overcome most if not all (for most of the time anyway) of the relational databases (
%acronym{:title =&gt; "relational database management systems"}&gt; RDBMS
) shortcomings mentioned in the previous post, we need to be introduced to new concepts and terminology.
%br/
There are two basic classes of objects in a graph database, they are:
%br/
%ul
  %li
    %strong Nodes:
    a
    %em node
    is basically an entity as RDBMS people (like probably you and I) are familiar with.  A
    %em node
    could represent a person, customer, blog post, photograph, video or tweet.  It isn't always true, nor is it a good idea to think of graph database concepts only in terms of RDBMS concepts, but we could consider most tables that do not represent an actual
    %em relationship
    or association between other tables as an entity.  It is a simplification, so use only in this initial learning phase cautiously.  A
    %em node
    can have zero or more properties.
  %li
    %strong Relatioships:
    a
    %em relationship
    is the concept of an association between two
    = succeed "s" do
      %em node
    that needs to be represented in your data store somehow.  A
    %em relationship
    can also have zero or more properties, just like a
    = succeed "." do
      %em node
%br/
The third concept in graph databases is that of a
= succeed "." do
  %em property
It unifies
= succeed "s" do
  %em node
and
= succeed "s" do
  %em relationship
as both first class citizens of the data store, which is quite unlike relational databases.
%br/
%br/
In a relational database we try to either reduce an association between two entities/tables to a small handful of cases, which might use references (if supported by that particular vendor and version of RDBMS), create "join tables" or we might force a natural relationship to become a table itself so that we are able to capture pertinent attributes for it.  There is no other way of handling relationships.  In many cases it might not be an issue to reduce the problem in these ways, however, the more and more interconnected our
%em entities
become with new types of relationships it seems (to me) that this method of modelling data quickly becomes problematic.
%br/
%br/
The following are other useful terms that the Neo graph database family uses, but conceptually most of these will also have a synonym in other graph databases:
%br/
%ul
  %li
    %strong Traversers:
    in graph databases "querying" for specific data is not done via declarative query statements and clauses like SQL.  Rather we define
    %em traversers
    that are composed of the following elements:
    %br/
    = succeed "We" do
      %ul
        %li the starting node
        %li the relationship types needing to be traversed
        %li the stop criteria
        %li the selection criteria
        %li traversing order (e.g. breadth first, etc.)
    need to know the starting node so the graph database knows where to start the traversal. The
    %em traverser
    will then only move along relationships of the types given by the second element of a
    = succeed "," do
      %em traverser
    evaluate the selection criteria to know which nodes are relevant tot he "query", then evaluate whether the stop criteria applies to know when traversing should stop.
    %br/
  %li
    %strong Indexers:
    In Neo4J there are several indexing utilities backed by a Lucene backend that make it easy to index actual nodes, full text and based on timelines.  This allows us to look up relevant starting nodes for traversing.
%br/
= succeed "Now" do
  %h4 How can graph databases overcome relational database shortcomings?
we will have a quick peak at how the new concepts and ideas from graph databases can resolve the complaints I had about relational databases:
%br/
%ul
  %li
    In response to
    = succeed ":" do
      %em A lot of real world data isn't highly structured (only partially)
    with graph databases we only need to set the properties a specific node actually has.  We do not need to fill in lots of
    %code nulls
    in attributes that aren't relevant like we do in RDBMSes.  Our graph database "model" interface might be able to add any constraints that are necessary.  While, in situations where highly structured data sets really do occur, I prefer having two sets of constraints - those on the relational database level and those in the "model" (application tier) - however, it can quickly become hard to manage when two sets of constraints that should be identical are defined in vastly different ways (languages).
  %li
    In response to
    = succeed ":" do
      %em Object to relational mapping (ORM) constraints and disjoints
    using nodes and relationships conceptually on the graph database layer you have little if any translation between 'objects' that represent nodes or relationships.
  %li
    In response to
    = succeed ":" do
      %em Weak and inefficient "traversal" support
    this isn't a problem with graph databases.  Traversing data is much more relevant when dealing with data that is naturally in a network or graph formation already.  Relational databases cannot handle networks or graph-like data sets without a lot of workarounds.
  %li
    In response to
    = succeed ":" do
      %em Maintaining and evolving relational schemas
    when the data sets you are dealing with are not highly structured and densely populated evolving strict data schemas do not need to be maintained and with Neo4J's flexible attribute setting/getting, data structures can be flexibly evolved when the data itself changes, however, this raises another issue of application code being able to read the old attributes in the graph database, but I will talk about that in Part 3.
%br/
%h4 Gay marriage: the graph database solution
%script{:src =&gt; "http://gist.github.com/354659.js"}

        </article>
      </section>
    </div>
    <footer>
  <p>
    Copyright © 2006-2018 <a href="//susanpotter.net">Susan Potter</a>.
  </p>
  <p>
    This website is developed by <a href="//susanpotter.net">Susan Potter</a>.
  </p>
  <div id="rights">
    <a href="//susanpotter.net">Susan Potter</a> reserves all rights to the copy and intellectual rights that are presented on this website as original material to <a href="//susanpotter.net">Susan Potter</a>.
    Links: <a href="//susanpotter.net/resume/software-engineering/">Software Engineer Extraordinaire</a>,
           <a href="//susanpotter.net/resume/software-engineering/">Software Developer Extraordinaire</a>,
           <a href="//susanpotter.net/resume/software-engineering/">Software Engineer</a>,
           <a href="//susanpotter.net/resume/architect/">Application architect/</a>,
           <a href="//susanpotter.net/resume/software-engineering/">Ruby Software Engineer</a>,
           <a href="//susanpotter.net/resume/software-engineering/">Ruby Engineer</a>,
           <a href="//susanpotter.net/resume/software-engineering/">Ruby on Rails Engineer</a>,
           <a href="//susanpotter.net/resume/software-engineering/">Ruby on Rails Software Engineer</a>,
           <a href="//susanpotter.net/resume/software-engineering/">Software Developer</a>,
           <a href="//susanpotter.net/resume/architect/">Software architect/</a>,
           <a href="//susanpotter.net/resume/software-engineering/">Hedge Fund Software Engineer</a>,
           <a href="//susanpotter.net/resume/software-engineering/">Hedge Fund Software Developer</a>,
           <a href="//susanpotter.net/">Web Services Software Engineer</a>,
           <a href="//susanpotter.net/">Web Services Software Developer</a>,
           <a href="//susanpotter.net/">Web Services Engineer</a>,
           <a href="//susanpotter.net/">Web Services Developer</a>,
           <a href="//susanpotter.net/resume/restful-design/">REST Software Engineer</a>,
           <a href="//susanpotter.net/resume/restful-design/">REST Software Developer</a>,
           <a href="//susanpotter.net/resume/restful-design/">Resource Oriented architect/ure</a>,
  </div>
  <script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
     (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
     m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
     })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-837842-1', 'auto');
    ga('require', 'displayfeatures');
    ga('send', 'pageview');
  </script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.6/jquery.min.js"></script>
  
  
  <script async="async" defer src="/javascripts/app.js"></script>
  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>
</footer>

    <script type="text/javascript">
      (function($) {
        var btns = $('.share-buttons .plusone').html('<g:plusone size="tall"></g:plusone>');
        var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
        po.src = 'https://apis.google.com/js/plusone.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
      })(jQuery);
    </script>
    <!-- Place this tag just before your close body tag -->
  

