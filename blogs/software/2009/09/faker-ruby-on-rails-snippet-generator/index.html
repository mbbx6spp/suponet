

  
  <meta charset="utf-8"><meta http-equiv="content-type" content="text/html; charset=UTF-8"><link href="/images/favicon.ico" rel="shortcut icon"><title>Susan Potter: Faker, Ruby on Rails Snippet &amp; Generator</title><!--
  <link rel="stylesheet" type="text/css" href="/stylesheets/bootstrap.css"/>
  --><link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css"><link rel="stylesheet" type="text/css" href="/stylesheets/styles.css"><script src="http://ajax.googleapis.com/ajax/libs/jquery/1.6/jquery.min.js"></script><script async="async" defer src="/javascripts/app.js"></script><meta content="width=device-width, minimum-scale=1.0, maximum-scale=1.0" name="viewport"><link rel="stylesheet" type="text/css" href="/stylesheets/coderay.css"><header><div class="container">
    <a href="/">
      <img alt="Susan Potter" height="30" src="/images/logo.png" width="128"></a>
    <nav><a href="/about/">About</a>
      <a href="/resume/">Resume</a>
      <a href="/portfolio/">Portfolio</a>
      <a href="/favorites/">Favo(u)rites</a>
      <a href="/contact/">Contact</a>
      <a target="_blank" id="twitter" class="icon" href="http://twitter.com/SusanPotter"><img src="/images/twitter.png" height="30" width="30" alt="@SusanPotter's Twitter feed"></a>
      <a target="_blank" id="linked" class="icon" href="http://www.linkedin.com/in/susanpotter"><img src="/images/linkedin.png" height="30" width="30" alt="Susan Potter's LinkedIn profile"></a>
      <a target="_blank" id="github" class="icon" href="https://github.com/mbbx6spp"><img src="/images/github.png" height="30" width="30" alt="Susan Potter's GitHub open source code repository profile"></a>
    </nav>
</div>
</header><div class="text post sidebar">
      <aside><ul class="share-buttons">
<li class="twitter"><a href="http://twitter.com/share" class="twitter-share-button" data-count="vertical" data-via="SusanPotter">Tweet</a></li>
          <li class="plusone">
          <!--
          <li class="linked"><script type="text/javascript" src="http://platform.linkedin.com/in.js"></script><script type="in/share" data-counter="top"></script></li>
          <li class="reddit"><script type="text/javascript" src="http://www.reddit.com/static/button/button2.js"></script></li>
          <li class="facebook"><iframe src="http://www.facebook.com/plugins/like.php?app_id=130334077058276&amp;send=false&amp;layout=box_count&amp;width=170&amp;show_faces=true&amp;action=like&amp;colorscheme=light&amp;font=lucida+grande&amp;height=90" scrolling="no" frameborder="0" style="text-align: right; border:none; overflow:hidden; width:170px; height:90px;" allowTransparency="true"></iframe></li>
          -->
        </ul></aside><section><article><h1 class="banner">
            Software Development Blog <small>(formerly called 'Snakes, Gems &amp; Coffee')</small>
            <span class="description">
              A technical blog with articles on a number of topics from Erlang, Ruby idioms, Javascript,
              semantic web, Rails tips, graph databases, distributed systems.
            </span>
          </h1>
          
          <h2>Faker, Ruby on Rails Snippet &amp; Generator</h2>
          <a href="http://2.bp.blogspot.com/_YUkA0L0Czls/SqhxBu4ZNzI/AAAAAAAAAIo/33EMivvSZsw/s1600-h/twitter-screenshot.png" onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}">
  <img alt="" border="0" id="BLOGGER_PHOTO_ID_5379674029472429874" src="http://2.bp.blogspot.com/_YUkA0L0Czls/SqhxBu4ZNzI/AAAAAAAAAIo/33EMivvSZsw/s400/twitter-screenshot.png" style="display:block; margin:0px auto 10px; text-align:center;cursor:pointer; cursor:hand;width: 400px; height: 218px;"></a>
Hey blog readers (if there are any left),
I know it has been a while, and I know I have left you high and dry, so today I decided I will share some code and software development thoughts with you.
I am moving to a more snippet oriented blog posting style from now on.  Previously I preferred
<a href="http://geek.susanpotter.net/2007/06/java-dogma-and-downfall.html" target="_new">long ramblings about the political ideology of programming languages</a>
and even
<a href="http://geek.susanpotter.net/2007/10/democratic-debate-ann-coulter-and.html" target="_new">how Ann Coulter was _more_ comprehensible when I used my Metafusion Crypto library</a>
on her words (actually that was a marketing lie - she sounded just as incomprehensible using
<a href="http://github.com/mbbx6spp/metafusion/tree/master/crypto">Metafusion Crypto</a>
as she did when not using it).  Of course, this was all in 2006-2007 when blogging was all about spewing small tidbits that taught the reader nothing, so I had to be different and attempt to find a reason for things.  Now things are swinging so I am trying to do the opposite from the norm again.
Ok, on with it.
Over the last week I have been using the Rails 2.3.4 "seed" mechanism, which in essence attempts to provide 80% of seed-fu's features inside Rails core.  In addition on my personal projects I have been using machinist as my factory framework of choice (although I am forced to use factory_girl for my clients), through which I was introduced to faker.  A beautiful gem indeed.
So to cut a long story short, I have found myself doing the following a hell of a lot in my brand new Rails 2.3.4 projects this week:
<code class="ruby"># in db/seeds.rb
def load_seed_files!
seed_files = Dir["#{RAILS_ROOT}/db/seeds/all/*.rb"] + Dir["#{RAILS_ROOT}/db/seeds/#{RAILS_ENV}/*.rb"]
seed_files.each do |file|
puts "Loading seed file: #{file}"
load(file)
end
end
load_seed_files!
# When I add files to the db/seeds/all directory it seed ALL environments
# When I add files to the db/seeds/{development,staging,test,production} directories it seeds
# for only that environment.</code>
Note: I wouldn't recommend using seeds in just staging, test or production generally.  If you need seed data in these environments you _probably_ need them in all environments OR (in the case of the test environment) you need to use a factory framework like machinist or factory_girl.
Now where is faker?  Well it's what I use inside these .rb files where faker comes into play:
<code># Faking a company name
&gt;&gt; Faker::Company.name
=&gt; "King-Ruecker"
&gt;&gt; Faker::Company.name
=&gt; "Cartwright, Prosacco and Smith"
&gt;&gt; Faker::Company.name
=&gt; "Pagac, Adams and Barrows"
&gt;&gt; Faker::Company.name
=&gt; "Satterfield and Sons"
&gt;&gt; Faker::Company.name
=&gt; "Blick-Deckow"
# Faking a person's name
&gt;&gt; Faker::Name.first_name
=&gt; "Ruthe"
&gt;&gt; Faker::Name.first_name
=&gt; "Jameson"
&gt;&gt; Faker::Name.first_name
=&gt; "Avery"
&gt;&gt; Faker::Name.first_name
=&gt; "Jordan"
&gt;&gt; Faker::Name.first_name
=&gt; "Ruthe"
&gt;&gt; Faker::Name.first_name
=&gt; "Winona"
&gt;&gt; Faker::Name.last_name
=&gt; "Brown"
&gt;&gt; Faker::Name.last_name
=&gt; "Hayes"
&gt;&gt; Faker::Name.last_name
=&gt; "Jerde"
&gt;&gt; Faker::Name.last_name
=&gt; "Lindgren"
&gt;&gt; Faker::Name.last_name
=&gt; "Considine"
&gt;&gt; Faker::Name.last_name
=&gt; "Rodriguez"
&gt;&gt; Faker::Name.last_name
=&gt; "Turner"
&gt;&gt; Faker::Name.name
=&gt; "Mekhi Lebsack"
&gt;&gt; Faker::Name.name
=&gt; "Esteban Brown"
&gt;&gt; Faker::Name.name
=&gt; "Velma Crona"
&gt;&gt; Faker::Name.name
=&gt; "Rollin Zemlak"
&gt;&gt; Faker::Name.name
=&gt; "Casper Sanford"
# My favorite is coming up with BS (yes, BS is what you think it is):
&gt;&gt; Faker::Company.bs
=&gt; "redefine ubiquitous e-commerce"
&gt;&gt; Faker::Company.bs
=&gt; "synergize viral e-business"
&gt;&gt; Faker::Company.bs
=&gt; "innovate real-time experiences"
&gt;&gt; Faker::Company.bs
=&gt; "aggregate scalable systems"
&gt;&gt; Faker::Company.bs
=&gt; "e-enable back-end functionalities"
&gt;&gt; Faker::Company.bs
=&gt; "implement 24/365 models"</code>
So the point of faker, if you haven't already figured out is that it generates data the way you would probably have in production so you are generating meaningful data in your development environment(s) where you want to show your client what the interface will look like with data inside.
<b>Now a word of caution:</b>
I would not advise you to use this in an end-user facing test environment.  I sometimes call that staging or qa, but ultimately it is an environment where real end-users or clients test out the features in a stable environment (not development or continuous integration environment) so they can sign off on your stories.  In these environments you should let the user create the data themselves using the admin forms or whatever UI you provide them because you want to see how they will break the system (and we all know they will somehow).  It gives you a much better indication of how things will end up working in production, which is very important.
Thanks for reading and let me know if this is yet again too rambly?  How does it happen?  I have the best intentions to just blurt out tidbits with no nuance, yet I always end up rambling on about things and give it a thought process (well sort of).  Anyone want to be my editor to strip out all thought and insight so I can be just blog brainless "tip" blog posts like everyone else in the Rails community that wanted to be a micro celebrity (trust me I couldn't handle that kind of paparazzi attention and I don't even have a Macbook Pro to sling over my shoulder in a fashionable messenger bag)?  I can't pay you anything, but you could share in my measely $0.63 that Google Adsense pays me each month (actually they don't actually pay until a threshold is met).  You could buy one third of an MP3 from iTunes each month.  Any takers?  What an awesome deal!  No really!
PS Coming soon a simple generator and Rails application template (or applate as I like to call them) that will set you up with this so you don't have to copy and paste all the time.  It'll be on GitHub.com/mbbx6spp.  Ta ta.
<b>Update:</b>
As Damien in the comments pointed out indirectly, I really didn't do Faker justice.  Please read the
<a href="http://faker.rubyforge.org/rdoc/" target="_new">Faker RDocs</a>
for more information.

        </article></section>
</div>
    <footer><p>
    Copyright © 2006-2012 <a href="http://susanpotter.net">Susan Potter</a>.
  </p>
  <p>
    This website is developed by <a href="http://susanpotter.net">Susan Potter</a>.
  </p>
  <div id="rights">
    <a href="http://susanpotter.net">Susan Potter</a> reserves all rights to the copy and intellectual rights that are presented on this website as original material to <a href="http://susanpotter.net">Susan Potter</a>.
    Links: <a href="http://susanpotter.net/resume/software-engineer">Software Engineer Extraordinaire</a>,
           <a href="http://susanpotter.net/resume/developer">Software Developer Extraordinaire</a>,
           <a href="http://susanpotter.net/resume/software-engineer">Software Engineer</a>,
           <a href="http://susanpotter.net/resume/architect">Application Architect</a>,
           <a href="http://susanpotter.net/resume/software-engineer">Ruby Software Engineer</a>,
           <a href="http://susanpotter.net/resume/software-engineer">Ruby Engineer</a>,
           <a href="http://susanpotter.net/resume/software-engineer">Ruby on Rails Engineer</a>,
           <a href="http://susanpotter.net/resume/software-engineer">Ruby on Rails Software Engineer</a>,
           <a href="http://susanpotter.net/resume/developer">Software Developer</a>,
           <a href="http://susanpotter.net/resume/architect">Software Architect</a>,
           <a href="http://susanpotter.net/resume/software-engineer">Hedge Fund Software Engineer</a>,
           <a href="http://susanpotter.net/resume/developer">Hedge Fund Software Developer</a>,
           <a href="http://susanpotter.net/">Web Services Software Engineer</a>,
           <a href="http://susanpotter.net/">Web Services Software Developer</a>,
           <a href="http://susanpotter.net/">Web Services Engineer</a>,
           <a href="http://susanpotter.net/">Web Services Developer</a>,
           <a href="http://susanpotter.net/resume/restful-design">REST Software Engineer</a>,
           <a href="http://susanpotter.net/resume/restful-design">REST Software Developer</a>,
           <a href="http://susanpotter.net/resume/restful-design">Resource Oriented Architecture</a>,
  </div>
  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script><script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-837842-1']);
    _gaq.push(['_trackPageview']);
    _gaq.push(['_setDetectFlash', false]);
    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script></footer><script type="text/javascript">
      (function($) {
        var btns = $('.share-buttons .plusone').html('<g:plusone size="tall"></g:plusone>');
        var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
        po.src = 'https://apis.google.com/js/plusone.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
      })(jQuery);
    </script><!-- Place this tag just before your close body tag -->