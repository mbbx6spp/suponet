<!DOCTYPE HTML>
<html lang="en">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link href="/images/favicon.ico" rel="shortcut icon">
  <meta content="width=device-width, minimum-scale=1.0, maximum-scale=1.0" name="viewport">
  <title>Susan Potter: HTML5 Canvas and Geolocation Experiment</title>
  <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="/stylesheets/styles.css">
  <!--
  <link rel="stylesheet" type="text/css" href="/stylesheets/styles.css"/>
  <link rel="stylesheet" type="text/css" href="/stylesheets/coderay.css"/>
  -->
</head>

  <body>
    <header>
  <div class='container'>
    <a href='/'>
      <img alt='Susan Potter' height='30' src='/images/logo.png' width='128'/>
    </a>
    <nav>
      <a href='/about/'>About</a>
      <a href='/resume/'>Resume</a>
      <a href='/portfolio/'>Portfolio</a>
      <a href='/talks/'>Talks</a>
      <a href='/contact/'>Contact</a>
      <a target="_blank" id='twitter' class='icon' href='https://twitter.com/SusanPotter'><img src='/images/twitter.png' height='30' width='30' alt="@SusanPotter's Twitter feed"/></a>
      <a target="_blank" id='linked' class='icon' href='https://www.linkedin.com/in/susanpotter'><img src='/images/linkedin.png' height='30' width='30' alt="Susan Potter's LinkedIn profile"/></a>
      <a target="_blank" id='github' class='icon' href='https://github.com/mbbx6spp'><img src='/images/github.png' height='30' width='30' alt="Susan Potter's GitHub open source code repository profile"/></a>
    </nav>
  </div>
</header>


    <div class="text columns home sidebar">
      <h1><a href="/" title="HTML5 Canvas and Geolocation Experiment">HTML5 Canvas and Geolocation Experiment</a></h1>
      <div style="width: 100%">
<input type="text" id="name" name="name" size="30" value="Elisabeth Dillman" style="display: float; margin: 0 0; padding: 0;"/>
<input type="text" id="lat" placeholder="Latitude" style="padding: 0; margin: 0px 440px; display: float; width: 120px;"/>
<input type="text" id="lng" placeholder="Longitude" style="padding: 0; margin: 0px 620px; display: float; width: 120px;"/>
</div>
<canvas id="happybirthday" width="400" height="350" style="border: 1px solid #eee; float: left; background: url('/images/unicorn.jpg') bottom left no-repeat; "></canvas>
<div id="theMap" style="border: 1px solid #eee; width: 400px; height: 350px; float: right;"></div>
<div class='clear'></div>
<h2>
  Credits
</h2>
<div class='clear'>
  <dl style='display: block;'>
    <dt>Photo credits:</dt>
    <dd><em><a href="http://www.cornify.com/unicornpictures/70/origami-unicorn">Origami Unicorn</a></em></dd>
    <dt>Idea to put unicorn on page:</dt>
    <dd><em>Desiree Gualandri</em></dd>
    <dt>Inspiration to lear new HTML5 APIs:</dt>
    <dd><em>Elisabeth Dillman's birthday</em></dd>
  </dl>
</div>
<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=true"></script>
<script>
  <!-- * disgracefully ugly code here...just an experiment, please ignore hackiness of it */ -->
  jQuery(window).ready(function () {
  <!-- * Geolocation code */ -->
  window.getCoords = function (position) {
  var lat = position.coords.latitude;
  var lng = position.coords.longitude;
  var latElem = document.getElementById('lat');
  var lngElem = document.getElementById('lng');
  latElem.value = lat;
  lngElem.value = lng;
  <!-- / google maps stuff here -->
  var $map = document.getElementById('theMap');
  const MAP_CENTER = new google.maps.LatLng(parseInt(lat, 10), parseInt(lng, 10));
  const MAP_OPTIONS = { zoom: 9, mapTypeId: google.maps.MapTypeId.ROADMAP, center: MAP_CENTER };
  var gMap = new google.maps.Map($map, MAP_OPTIONS);
  function createMapPosition(locationAddress) {
  var geocoder = new google.maps.Geocoder();
  geocoder.geocode( { 'address': locationAddress}, function(results, status) {
  if (google.maps.GeocoderStatus.OK == status) {
  createMapMarker($map, results[0].geometry.location);
  }
  });
  }
  function createMapMarker(mapElement, position) {
  new google.maps.Marker({
  map: mapElement,
  draggable: false,
  position: position
  });
  }
  <!-- / Add marker of current location -->
  createMapMarker($map, lat + ", " + lng);
  };
  window.permissionDenied = function (error) {
  jQuery('#theMap').setText('Permission denied or unable to retrieve geolocation data');
  };
  if (navigator.geolocation) {
  navigator.geolocation.getCurrentPosition(getCoords, permissionDenied);
  }
  const PREFIX_TEXT = "Happy birthday";
  const MAX_LENGTH = PREFIX_TEXT.length;
  <!-- * Canvas code */ -->
  var happyBirthdayCanvas = jQuery('canvas#happybirthday').get(0);
  var canvasContext = happyBirthdayCanvas.getContext("2d");
  canvasContext.font = "20px bold fixed";
  window.typeCharacter = function (index) {
  if (index < MAX_LENGTH) {
  canvasContext.fillText(PREFIX_TEXT[index], 40 + index*24, 100);
  var nextIndex = index + 1;
  setTimeout("typeCharacter(" + nextIndex + ")", 800);
  }
  else {
  var birthdayName = jQuery('#name').get(0);
  canvasContext.font = "40px bold fixed";
  canvasContext.fillText(birthdayName.value, 50, 160);
  }
  }
  setTimeout("typeCharacter(0)", 3000);
  });
</script>

    </div>
    <footer>
  <p>
    Copyright &copy; 2006-2014 <a href="http://susanpotter.net">Susan Potter</a>.
  </p>
  <p>
    This website is developed by <a href="http://susanpotter.net">Susan Potter</a>.
  </p>
  <div id="rights">
    <a href="http://susanpotter.net">Susan Potter</a> reserves all rights to the copy and intellectual rights that are presented on this website as original material to <a href="http://susanpotter.net">Susan Potter</a>.
    Links: <a href="http://susanpotter.net/resume/software-engineering/">Software Engineer Extraordinaire</a>,
           <a href="http://susanpotter.net/resume/software-engineering/">Software Developer Extraordinaire</a>,
           <a href="http://susanpotter.net/resume/software-engineering/">Software Engineer</a>,
           <a href="http://susanpotter.net/resume/architect/">Application architect/</a>,
           <a href="http://susanpotter.net/resume/software-engineering/">Ruby Software Engineer</a>,
           <a href="http://susanpotter.net/resume/software-engineering/">Ruby Engineer</a>,
           <a href="http://susanpotter.net/resume/software-engineering/">Ruby on Rails Engineer</a>,
           <a href="http://susanpotter.net/resume/software-engineering/">Ruby on Rails Software Engineer</a>,
           <a href="http://susanpotter.net/resume/software-engineering/">Software Developer</a>,
           <a href="http://susanpotter.net/resume/architect/">Software architect/</a>,
           <a href="http://susanpotter.net/resume/software-engineering/">Hedge Fund Software Engineer</a>,
           <a href="http://susanpotter.net/resume/software-engineering/">Hedge Fund Software Developer</a>,
           <a href="http://susanpotter.net/">Web Services Software Engineer</a>,
           <a href="http://susanpotter.net/">Web Services Software Developer</a>,
           <a href="http://susanpotter.net/">Web Services Engineer</a>,
           <a href="http://susanpotter.net/">Web Services Developer</a>,
           <a href="http://susanpotter.net/resume/restful-design/">REST Software Engineer</a>,
           <a href="http://susanpotter.net/resume/restful-design/">REST Software Developer</a>,
           <a href="http://susanpotter.net/resume/restful-design/">Resource Oriented architect/ure</a>,
  </div>
  <script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
     (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
     m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
     })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-837842-1', 'auto');
    ga('require', 'displayfeatures');
    ga('send', 'pageview');
  </script>
  <script src='http://ajax.googleapis.com/ajax/libs/jquery/1.6/jquery.min.js'></script>
  
  
  <script async='async' defer='defer' src='/javascripts/app.js'></script>
  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>
</footer>

    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
  </body>
</html>
